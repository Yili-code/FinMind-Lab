# 專案比較報告：Python vs React+Typescript+Vite

## 專案概覽

| 項目 | Python | React+Typescript+Vite |
|------|---------------------|------------|
| 專案類型 | 後端資料處理與分析工具 | 前端 Web 應用程式 |
| 主要語言 | Python 3.11+ | TypeScript + React 19 |
| 執行環境 | 終端機 CLI | 瀏覽器 |
| 專案目標 | 歷史資料擷取、清理、分析、產生報表 | 即時股票資訊查詢與觀察名單管理 |

---

## 技術架構比較

### Python

技術：
- 語言：Python 3.11+
- 核心套件：
  - `requests`, `aiohttp`：HTTP 請求
  - `yfinance`：Yahoo Finance 資料來源
  - `tenacity`：重試機制
  - `pandas`, `numpy`：資料處理

  - `ta-lib`, `scipy`, `statsmodels`：技術分析
  - `sqlite3`：資料庫儲存
  - `matplotlib`, `mplfinance`：圖表繪製
  - `reportlab`：PDF 報表生成

架構模式：
```
main.py (流程控制)
├── scraper.py    (資料擷取)
├── cleaner.py    (資料清理)
├── analyzer.py   (技術指標分析)
└── visualizer.py (視覺化與報表)
```

### React+Typescript+Vite

技術：
- 語言：TypeScript + React 19.2
- 建置工具：Vite 6.2
- 核心依賴：
  - `react`, `react-dom`：UI 框架
  - 原生 `fetch` API：資料擷取
  - 公開 CORS 代理：`api.allorigins.win`

架構模式：
```
App.tsx (主應用)
├── components/
│   ├── SearchForm.tsx    (搜尋表單)
│   └── StockCard.tsx     (股票資訊卡片)
└── services/
    └── twseService.ts    (API 服務)
```

---

## 功能比較

### Python

核心功能：
1.  歷史資料擷取
   - 支援 TWSE API 和 Yahoo Finance
   - 自動重試機制（最多 3 次）
   - 支援日期區間查詢
   - 原始資料儲存（CSV/JSON）

2.  資料清理與標準化
   - 欄位名稱標準化
   - 遺漏值線性插值補齊
   - 資料格式統一

3.  技術分析
   - 移動平均線（MA5, MA20）
   - RSI 指標計算
   - 可擴充其他指標

4.  視覺化與報表
   - K 線圖（Candlestick Chart）
   - 價格與均線折線圖
   - 成交量圖表
   - PDF 報表生成（整合多圖表）

5.  資料持久化
   - SQLite 資料庫儲存
   - 原始資料檔案備份
   - 分析結果檔案輸出

6.  日誌系統
   - 模組化日誌記錄
   - 錯誤追蹤與除錯

### React+Typescript+Vite

核心功能：
1.  即時股票查詢
   - 單一股票代號查詢
   - 即時成交價、成交量等資訊
   - 透過公開 CORS 代理取得資料

2.  觀察名單管理
   - 最多 10 支股票
   - 新增/移除功能
   - 即時更新顯示

3.  資料匯出
   - CSV 格式下載
   - 包含統計資訊（平均價格、總成交量）
   - 支援 Excel 開啟（UTF-8 BOM）

4.  使用者介面
   - 現代化深色主題 UI
   - 響應式設計
   - 載入狀態指示器
   - 錯誤訊息顯示

5.  限制與注意事項
   - 依賴公開代理伺服器（生產環境建議自建後端）
   - 僅顯示即時資料，無歷史分析

---

## 資料流程比較

### Python 資料流程

```
使用者輸入 (股票代碼、日期區間)
    ↓
[1] 資料擷取 (scraper.py)
    ├─ TWSE API / Yahoo Finance
    └─ 儲存原始資料 (CSV/JSON)
    ↓
[2] 資料清理 (cleaner.py)
    ├─ 欄位標準化
    ├─ 遺漏值補齊
    └─ 儲存至 SQLite
    ↓
[3] 技術分析 (analyzer.py)
    ├─ 計算技術指標 (MA, RSI)
    └─ 儲存分析結果
    ↓
[4] 視覺化與報表 (visualizer.py)
    ├─ 產生圖表 (PNG)
    └─ 生成 PDF 報表
    ↓
輸出：PDF 報表、圖檔、資料檔
```

### React+Typescript+Vite 資料流程

```
使用者輸入 (股票代碼)
    ↓
[1] 前端請求 (twseService.ts)
    ├─ 透過 CORS 代理
    └─ 呼叫 TWSE API
    ↓
[2] 資料處理 (App.tsx)
    ├─ 解析回應資料
    ├─ 更新 UI 狀態
    └─ 加入觀察名單（選用）
    ↓
[3] 資料顯示 (StockCard.tsx)
    ├─ 格式化數字
    ├─ 計算漲跌幅
    └─ 視覺化呈現
    ↓
[4] 匯出功能（選用）
    └─ 轉換為 CSV
    └─ 下載檔案
```

---

## 專案結構比較

### Python

```
Python/
├── main.py              # 主程式入口
├── requirements.txt     # Python 依賴
├── README.md           # 專案說明
├── src/                # 核心模組
│   ├── scraper.py      # 資料擷取
│   ├── cleaner.py      # 資料清理
│   ├── analyzer.py     # 技術分析
│   └── visualizer.py   # 視覺化
├── data/               # 資料儲存
│   ├── raw/            # 原始資料
│   ├── cleaned/        # 清理後資料 (SQLite)
│   └── reports/         # 報表與圖檔
└── logs/               # 日誌檔案
```

### React+Typescript+Vite

```
React+Typescript+Vite/
├── index.tsx           # 應用程式入口
├── App.tsx             # 主應用元件
├── types.ts            # TypeScript 型別定義
├── package.json        # 依賴與腳本
├── vite.config.ts      # Vite 設定
├── tsconfig.json       # TypeScript 設定
├── components/         # React 元件
│   ├── SearchForm.tsx
│   └── StockCard.tsx
└── services/           # API 服務
    └── twseService.ts
```

---

## 使用場景比較

### Python 適用場景

-  歷史資料分析：需要回溯特定時間區間的股價表現
-  技術分析：計算技術指標、判斷趨勢
-  報表生成：需要產生 PDF 報告供決策參考
-  資料科學研究：進行股價模式分析、回測
-  批量處理：處理多支股票或長時間區間資料
-  自動化任務：可整合到排程系統執行

### React+Typescript+Vite 適用場景

-  即時監控：需要查看當前股價與即時資訊
-  觀察名單：追蹤多支股票的最新狀態
-  快速查詢：簡單快速的單一股票查詢
-  行動裝置：響應式設計適合手機瀏覽
-  資料匯出：快速匯出觀察名單為 CSV
-  不適合：需要歷史資料或技術分析

---

## 優缺點分析

### Python

優點：
-  完整的資料處理流程（ETL + 分析）
-  強大的技術分析能力
-  專業的視覺化輸出（K 線圖、均線圖）
-  PDF 報表生成功能
-  資料持久化（SQLite）
-  穩定的重試機制與日誌系統
-  可擴充的模組化架構

缺點：
-  僅限終端機使用，無 Web 介面
-  需要 Python 環境與多個套件安裝
-  執行時間較長（包含資料處理與分析）
-  使用者體驗不如 Web 應用直觀

### React+Typescript+Vite

優點：
-  現代化 Web UI，使用者體驗佳
-  即時資料查詢，回應速度快
-  觀察名單功能方便管理
-  響應式設計，支援多裝置
-  輕量級部署，僅需瀏覽器
-  資料匯出功能（CSV）

缺點：
-  依賴公開代理，穩定性有限
-  僅有即時資料，無歷史分析
-  無技術指標計算
-  無視覺化圖表（僅文字顯示）
-  無資料持久化（瀏覽器關閉後遺失）
-  功能較為簡單，無法進行深度分析

---

## 互補性分析

這兩個專案實際上具有很好的互補性：

1. 時間維度互補
   - React+Typescript+Vite：即時資料
   - Python：歷史資料

2. 功能互補
   - React+Typescript+Vite：快速查詢與監控
   - Python：深度分析與報表

3. 使用場景互補
   - React+Typescript+Vite：日常監控、觀察名單
   - Python：研究分析、決策支援

建議整合方向：
- 可將 Python 的後端 API 化，提供歷史資料與分析服務
- React+Typescript+Vite可呼叫此 API 擴充歷史分析功能
- 結合即時監控與歷史分析，形成完整的股票分析系統

---

## 技術建議

### Python 改進建議

1. API 化：建立 Flask/FastAPI 後端服務
2. Web 前端：開發 React/Vue 前端介面
3. 圖表互動：使用 Plotly 或 ECharts 取代靜態圖表
4. 即時更新：整合即時資料來源

### React+Typescript+Vite 改進建議

1. 後端代理：自建後端服務取代公開代理
2. 歷史資料：整合歷史資料查詢功能
3. 技術指標：加入簡易技術指標計算與顯示
4. 圖表視覺化：使用 Chart.js 或 Recharts 顯示價格走勢
5. 資料持久化：使用 LocalStorage 或 IndexedDB 保存觀察名單

---

## 總結

Python 是一個功能完整的後端資料分析工具，適合需要進行歷史資料分析、技術指標計算和報表生成的場景。

React+Typescript+Vite 是一個輕量級的前端 Web 應用，專注於即時資訊查詢和使用者體驗，適合日常快速查詢和觀察名單管理。

兩個專案雖然目標不同，但若能整合，可以形成一個功能更完善的股票分析系統。

